<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Home</title>
    <link rel="stylesheet" href="/static/style.css">

<style>

/* ðŸ”¥ POPUP MODAL CSS */

.modal{
    display:none;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
    z-index:999;
}

.modal.active{
    display:flex;
}

.modal-content{
    background:white;
    padding:25px;
    border-radius:10px;
    width:350px;
    animation: popupAnim 0.3s ease;
}

@keyframes popupAnim{
    from{transform:scale(0.8); opacity:0;}
    to{transform:scale(1); opacity:1;}
}

.edit-btn{
    background:#111;
    color:white;
    border:none;
    padding:8px 14px;
    cursor:pointer;
    border-radius:6px;
}

.close-btn{
    float:right;
    cursor:pointer;
    font-weight:bold;
}

</style>

</head>

<body>

<div class="profile-wrapper">

    <!-- COVER IMAGE -->
    <div class="cover">
        <img id="cover_image" src="https://images.unsplash.com/photo-1501785888041-af3ef285b470">

        <label for="coverUpload" class="cover-upload">ðŸ“·</label>

        <input type="file" id="coverUpload" hidden>
        <div id="coverPhotoStatus"></div>
    </div>

    <!-- PROFILE HEADER -->
    <div class="profile-header">

        <div class="profile-image-wrapper">
            <img id="user_image"
            src="https://res.cloudinary.com/dls79lzyn/image/upload/v1770363924/default_user_profile_bx8coo.jpg">

            <label for="photoUpload" class="camera-overlay">ðŸ“·</label>

            <input type="file" id="photoUpload" hidden>
        </div>

        <div class="profile-info">
            <h2 id="user_name">Loading...</h2>
            <p id="user_dashboard"></p>
            <div id="photoStatus"></div>
        </div>

        <button id="logout-btn" onclick="logout()">Logout</button>

    </div>

    <!-- CONTENT -->
    <div class="profile-content">
        <div class="card-box">

            <h3>Profile Details</h3>

            <button class="edit-btn" onclick="openModal()">Edit Profile</button>

        </div>
    </div>

</div>

<!-- ðŸ”¥ POPUP MODAL -->
<div id="profileModal" class="modal" onclick="outsideClick(event)">

    <div class="modal-content">

        <span class="close-btn" onclick="closeModal()">X</span>

        <h3>Edit Profile</h3>

        <input type="text" id="username" placeholder="username">
        <input type="text" id="bio" placeholder="bio">
        <!-- <h4>Change Profile Photo</h4>
        <input type="file" id="pop_up_profile_photo"  accept="image/*">
        <h4>Change Cover Photo</h4>
        <input type="file" id="pop_up_cover_photo"  accept="image/*"> -->
        <button onclick="updateProfile()">Update Profile</button>

    </div>

</div>



<script>

function openModal(){
    document.getElementById("profileModal").classList.add("active");
}

function closeModal(){
    document.getElementById("profileModal").classList.remove("active");
}

function outsideClick(event){
    if(event.target.id === "profileModal"){
        closeModal();
    }
}

</script>

<script src="/static/script.js"></script>

</body>
</html>
